{"version":3,"file":"swiper.CIFs8aA-.js","sources":["../../resources/scripts/components/swiper.js"],"sourcesContent":["// components/swiper.js\n\nimport { nanoid } from 'nanoid';\nimport Swiper from 'swiper';\nimport { Navigation, Pagination, Autoplay, Grid } from 'swiper/modules';\n\nconst defaultModules = [ Navigation, Pagination, Autoplay, Grid ];\n\n// Default Swiper options\nconst defaultOptions = {\n    grabCursor: true,\n    allowTouchMove: true,\n    threshold: 5,\n    wrapperClass: 'swiper-wrapper',\n    slideClass: 'swiper-slide',\n    slideActiveClass: 'swiper-slide-active',\n};\n\n// Generate unique class names\nconst generateClasses = () => {\n    const id = nanoid(8);\n    return {\n        id,\n        swiper: `swiper-${id}`,\n        next: `swiper-next-${id}`,\n        prev: `swiper-prev-${id}`,\n        pagination: `swiper-pagination-${id}`,\n        scrollbar: `swiper-scrollbar-${id}`,\n    };\n};\n\n// Parse options safely\nconst parseOptions = (el) => {\n    const json = el?.querySelector('.swiper-wrapper')?.dataset?.swiperOptions;\n    if (!json) return {};\n    try {\n        return JSON.parse(json);\n    } catch (e) {\n        console.warn('Invalid Swiper JSON on element', el, e);\n        return {};\n    }\n};\n\n// controls\nconst getSwiperControls = (el) => {\n    const wrapper = el.closest('.closest-swiper') || el.parentElement;\n    const existing = wrapper?.querySelector('.swiper-controls');\n    if (existing) return existing;\n\n    const div = document.createElement('div');\n    div.className = 'swiper-controls';\n    el.after(div);\n    return div;\n};\n\n// Utility to get breakpoints from options\nconst getBreakpoints = (options = {}) => {\n    if (options.breakpoints) return options.breakpoints;\n\n    const bp = {};\n    const map = { xs: 0, sm: 640, md: 768, lg: 1024, xl: 1280, xxl: 1536 };\n    Object.entries(map).forEach(([ key, val ]) => {\n        if (options[key]) bp[val] = options[key];\n    });\n    return bp;\n};\n\n// Initialize Swiper instances\nconst initSwiper = (el) => {\n    if (!el) return;\n    if (el.__swiper_inited) return;\n    el.__swiper_inited = true;\n\n    const classes = generateClasses();\n    el.classList.add(classes.swiper);\n\n    const swiperOptions = {\n        modules: defaultModules,\n        ...defaultOptions,\n    };\n\n    const options = parseOptions(el);\n    if (!options || Object.keys(options).length === 0) {\n        console.warn('Skipped swiper:', el, '(no valid options)');\n        return;\n    }\n\n    // Base settings\n    Object.assign(swiperOptions, {\n        spaceBetween: parseInt(options.spaceBetween) || 0,\n        slidesPerView: options.slidesPerView === 'auto' ? 'auto' : parseInt(options.slidesPerView) || 1,\n        speed: parseInt(options.speed) || 600,\n        direction: options.direction || 'horizontal',\n        loop: !!options.loop,\n        autoHeight: !!options.autoHeight,\n        freeMode: !!options.freeMode,\n        cssMode: !!options.cssMode,\n        breakpoints: getBreakpoints(options),\n    });\n\n    // effect (custom)\n    if (options.effect) {\n        swiperOptions.effect = options.effect;\n        if (swiperOptions.effect === 'fade') {\n            swiperOptions.fadeEffect = { crossFade: !0 };\n        }\n    }\n\n    // observer (custom)\n    if (options.observer) {\n        swiperOptions.observer = true;\n        swiperOptions.observeParents = true;\n    }\n\n    // centered (custom)\n    if (options.centered) {\n        swiperOptions.centeredSlides = true;\n        swiperOptions.centeredSlidesBounds = true;\n    }\n\n    // Autoplay\n    if (options.autoplay) {\n        swiperOptions.autoplay = {\n            delay: parseInt(options.delay) || 6000,\n            disableOnInteraction: true,\n            reverseDirection: !!options.reverse,\n        };\n    }\n\n    // Marquee (custom)\n    if (options.marquee) {\n        swiperOptions.loop = true;\n        swiperOptions.speed = parseInt(options.speed) || 6000;\n        swiperOptions.autoplay = { delay: 1, disableOnInteraction: true };\n    }\n\n    // Rows (custom)\n    if (options.rows) {\n        swiperOptions.grid = {\n            rows: parseInt(options.rows),\n            fill: 'row',\n        };\n    }\n\n    const controls = getSwiperControls(el);\n\n    // Navigation (custom)\n    if (options.navigation) {\n        let btnPrev = controls?.querySelector('.swiper-button-prev');\n        let btnNext = controls?.querySelector('.swiper-button-next');\n\n        if (btnPrev && btnNext) {\n            btnPrev.classList.add(classes.prev);\n            btnNext.classList.add(classes.next);\n        } else {\n            const btnPrev = document.createElement('div');\n            const btnNext = document.createElement('div');\n            btnPrev.className = `swiper-button swiper-button-prev ${classes.prev}`;\n            btnNext.className = `swiper-button swiper-button-next ${classes.next}`;\n            btnPrev.innerHTML = `<svg><use href=\"#icon-arrow-left-outline\"></use></svg>`;\n            btnNext.innerHTML = `<svg><use href=\"#icon-arrow-right-outline\"></use></svg>`;\n            controls.append(btnPrev, btnNext);\n        }\n\n        swiperOptions.navigation = {\n            nextEl: '.' + classes.next,\n            prevEl: '.' + classes.prev,\n        };\n    }\n\n    // Pagination (custom)\n    if (options.pagination) {\n        let pagination = controls?.querySelector('.swiper-pagination');\n        if (pagination) {\n            pagination.classList.add(classes.pagination);\n        } else {\n            const pagination = document.createElement('div');\n            pagination.className = `swiper-pagination ${classes.pagination}`;\n            controls.append(pagination);\n        }\n\n        const paginationType = options.pagination;\n        swiperOptions.pagination = {\n            el: '.' + classes.pagination,\n            clickable: true,\n            ...( paginationType === 'bullets' && { dynamicBullets: true, type: 'bullets' } ),\n            ...( paginationType === 'fraction' && { type: 'fraction' } ),\n            ...( paginationType === 'progressbar' && { type: 'progressbar' } ),\n            ...( paginationType === 'custom' && { renderBullet: (index, className) => `<span class=\"${className}\">${index + 1}</span>` } ),\n        };\n    }\n\n    // Scrollbar (custom)\n    if (options.scrollbar) {\n        let scrollbar = controls?.querySelector('.swiper-scrollbar');\n        if (scrollbar) {\n            scrollbar.classList.add(classes.scrollbar);\n        } else {\n            const scrollbar = document.createElement('div');\n            scrollbar.className = `swiper-scrollbar ${classes.scrollbar}`;\n            controls.append(scrollbar);\n        }\n\n        swiperOptions.scrollbar = {\n            el: '.' + classes.scrollbar,\n            hide: true,\n            draggable: true,\n        };\n    }\n\n    // Initialize\n    const swiper = new Swiper(`.${classes.swiper}`, swiperOptions);\n\n    // Autoplay (hover)\n    if (swiperOptions.autoplay) {\n        el.addEventListener('mouseenter', () => swiper.autoplay?.stop());\n        el.addEventListener('mouseleave', () => swiper.autoplay?.start());\n    }\n\n    return swiper;\n};\n\nconst initAllSwipers = () => {\n    document.querySelectorAll('.w-swiper').forEach(initSwiper);\n};\n\n( document.readyState === 'loading' )\n    ? document.addEventListener('DOMContentLoaded', initAllSwipers, { once: true })\n    : initAllSwipers();\n\nexport { initAllSwipers, initSwiper };\n"],"names":["btnPrev","btnNext","pagination","scrollbar"],"mappings":"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"}