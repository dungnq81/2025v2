const t=new Proxy({},{get:(t,e)=>t.lang&&t[t.lang][e]||e}),e="html|head|body|meta|link|style|script";class s{render(){delete this.element,delete this.render}bind(t,e){const s=this[this.ns];return"function"==typeof e&&e.call(this,s),!!t.appendChild(s)}unbind(t,e){const s=this[this.ns];return"function"==typeof e&&e.call(this,s),!!t.removeChild(s)}place(t,e){const s=this[this.ns];return"function"==typeof e&&e.call(this,s),!!t.replaceWith(s)}append(t){const e=this.ns;return!!this[e].appendChild(t[e])}prepend(t){const e=this.ns,s=this[e];return!!s.insertBefore(t[e],s.firstElementChild||null)}remove(t){const e=this.ns;return!!this[e].removeChild(t[e])}fill(s){if(!s instanceof Element||RegExp(e,"i").test(s.tagName)||RegExp(`(<(${e})*>)`,"i").test(s.innerHTML))throw new Error(t.EMTAG);return this.empty(),!!this[this.ns].appendChild(s)}empty(){for(;this.first;)this.remove(this.first)}get children(){return Array.prototype.map.call(this[this.ns].children,t=>t._1)}get first(){const t=this[this.ns];return t.firstElementChild?t.firstElementChild._1:null}get last(){const t=this[this.ns];return t.lastElementChild?t.lastElementChild._1:null}}class n extends s{constructor(s,i,o,r,a,l){super();const c=this.ns=`_${s}`,h=i?i.toString():"div";if(RegExp(e,"i").test(h))throw new Error(t.ETAGN);const p=this[c]=this.element(s,h,o,r,a,l);if(this.__Compo=1,this[c]._1=this,r&&"object"==typeof r)for(const e in r){const i=e.toString();if(RegExp("attributes|classList|innerHTML|outerHTML|nodeName|nodeType").test(i))throw new Error(t.EPROP);if(0===i.indexOf("on")&&r[i]&&"function"==typeof r[i])p[i]=r[i].bind(this);else if("object"!=typeof r[i])p[i]=r[i];else if("children"==i&&"object"==typeof r[i]&&r[i].length)for(const t of r.children){const{tag:e,name:i,props:o}=t;this.append(new n(s,e,i,o))}}if(o){const t=p.className;p.className="","string"==typeof o?p.className=`${s}-${o}`:"object"==typeof o&&(p.className=Object.values(o).map(t=>`${s}-${t}`).join(" ")),t&&(p.className+=` ${t}`)}this.render()}element(t,e,s,n,i,o){return o?document.createElementNS(o,e,i):document.createElement(e,i)}hasAttr(t){return this[this.ns].hasAttribute(t)}getAttr(t){return this[this.ns].getAttribute(t)}setAttr(t,e){this[this.ns].setAttribute(t,e)}delAttr(t){this[this.ns].removeAttribute(t)}getStyle(t){return getComputedStyle(this[this.ns])[t]}show(){this[this.ns].hidden=!1}hide(){this[this.ns].hidden=!0}enable(){this[this.ns].disabled=!1}disable(){this[this.ns].disabled=!0}get node(){return this[this.ns]}get parent(){const t=this[this.ns];return t.parentElement&&t.parentElement._1?t.parentElement._1:null}get previous(){const t=this[this.ns];return t.previousElementSibling?t.previousElementSibling._1:null}get next(){const t=this[this.ns];return t.nextElementSibling?t.nextElementSibling._1:null}get classList(){return this[this.ns].classList}static isCompo(t){return t instanceof n}}class i{constructor(t,e){e&&"object"==typeof e&&Object.assign(this,{},e);const s=this.ns=`_${t}`;this.__Data=0,this[s]={ns:t}}compo(t,e,s,i=!1,o=!1,r=!1){const a=this[this.ns].ns;let l;return l=i?{ns:a,tag:t,name:e,props:s,load:o,unload:r}:new n(a,t,e,s),o&&"function"==typeof o&&(l.load=s.onload=o),r&&"function"==typeof r&&(l.unload=s.onunload=r),l}async render(t){const e=this[this.ns],s=this;e[t]&&e[t]._||(e[t]={_:s[t],load:s[t].load,unload:s[t].unload},s[t]=new n(s[t].ns,s[t].tag,s[t].name,s[t].props)),e[t].load()}async unload(t){const e=this[this.ns];e[t]&&e[t]._&&e[t].unload()}async reflow(t,e){const s=this[this.ns];e?s[t]=this.compo(s[t]._.ns,s[t]._.name,s[t]._.props):s[t]&&s[t]._&&s[t].load()}static isData(t){return t instanceof i}}class o{constructor(t,e,s){const i=this.ns=`_${t}`;s=(n.isCompo(s)?s[t]:s)||document,this.__Event=0,this[i]={name:e,node:s}}add(t,e=!1){const{node:s,name:n}=this[this.ns];s.addEventListener(n,t,e)}remove(t){const{node:e,name:s}=this[this.ns];e.removeEventListener(s,t)}static prevent(t){t.preventDefault()}static focus(t,e){const{currentTarget:s}=t;s.focus&&s.focus(e)}static blur(t,e=100){const{currentTarget:s}=t;setTimeout(()=>s.blur&&s.blur(),e)}static isEvent(t){return t instanceof o}}class r{constructor(){const e=arguments;let s,n;if(e.length>1?(s=e[0],n=e[1]):e[0]&&"object"==typeof e[0]&&e[0].nodeType?s=e[0]:n=e[0],n&&"object"!=typeof n)throw new TypeError(t.EOPTS);if(s&&"object"!=typeof s)throw new TypeError(t.EELEM);this.binds(),this.options=this.opts(this.defaults(),n),Object.freeze(this.options),this.element=s}opts(t,e={}){const s={};for(const n in t)null!=t[n]&&"object"==typeof t[n]?s[n]=Object.assign(t[n],e[n]):s[n]=void 0!==e[n]?e[n]:t[n];return s}compo(t,e,s){const i=this.options.ns;return null!=t?new n(i,t,e,s):n}data(t){const e=this.options.ns;return null!=t?new i(e,t):i}event(t,e){const s=this.options.ns;return null!=t?new o(s,t,e):o}selector(t,e,s=!1){return e=e||document,s?e.querySelectorAll(t):e.querySelector(t)}cloneNode(t,e=!1){return t.cloneNode(e)}hasAttr(t,e){return t.hasAttribute(e)}getAttr(t,e){return t.getAttribute(e)}icon(t,e,s,i,o,r){const a=this.options.ns,l=s?`${s}-${e}`:e,c=this.compo("span","icon",{className:l});if("font"!=t)if("symbol"==t||"shape"==t){const e="http://www.w3.org/2000/svg",s=new n(a,"svg",!1,!1,null,e),l="symbol"==t?"use":"path",h=new n(a,l,!1,!1,null,e);if(r){const t=r.match(/\d+ \d+ (\d+) (\d+)/);t&&Object.entries({width:t[1],height:t[2],viewBox:t[0]}).forEach(t=>s.setAttr(t[0],t[1]))}"use"==l?h.setAttr("href",`#${o}`):h.setAttr("d",i),s.append(h),c.append(s)}else if("svg"==t&&this.origin()){const t=this.compo(a,"img",!1,{src:`${i}#${o}`});c.append(t)}return c}origin(t,e){return e=URL.canParse(e)?e:"null"!=window.origin?window.origin:window.location.origin,t=URL.canParse(t)?new URL(t).origin:e,e&&t&&e===t}cst(t,e){let s=n.isCompo(t)?t.getStyle(e):getComputedStyle(t)[e];return s&&(s=s.indexOf("s")?1e3*parseFloat(s):parseInt(s)),s||0}delay(t,e,s){const n=e?this.cst(e,"transitionDuration"):0;setTimeout(t,n||s)}wrap(e){const s=this;if(this[e]&&"function"!=typeof e)throw new TypeError(t.EMETH);return function(){e.call(s,...arguments,this)}}}const a=Object.freeze({share:0,send:1,email:2,copy:3,webapi:4});class l extends r{static actionEnum(){return a}aks(){const t=a;return{facebook:t.share,x:t.share,linkedin:t.share,threads:t.share,bluesky:t.share,reddit:t.share,mastodon:t.share,quora:t.share,whatsapp:t.send,messenger:t.send,telegram:t.send,skype:t.send,viber:t.send,line:t.send,snapchat:t.send,"send-email":t.email,"copy-link":t.copy,"web-share":t.webapi}}defaults(){return this.ska=this.aks(),{ns:"share",root:"body",className:"social-share",layout:"h",icons:{type:"font",prefix:"icon"},effects:!0,link:"",title:"",description:"",intents:null,scaffold:this.ska,uriform:{facebook:"https://www.facebook.com/dialog/share?display=popup&href=%url%&app_id=%app_id%",x:"https://twitter.com/intent/tweet?text=%title%&url=%url%",linkedin:"https://www.linkedin.com/sharing/share-offsite?mini=true&url=%url%&title=%title%&ro=false&summary=%summary%",threads:"https://threads.net/intent/post?text=%url%",bluesky:"https://bsky.app/intent/compose?text=%url%",reddit:"https://www.reddit.com/submit?url=%url%&title=%title%",mastodon:"https://mastodon.social/share?text=%text%",quora:"https://www.quora.com/share?url=%url%&title=%title%",whatsapp:"https://api.whatsapp.com/send?text=%text%",messenger:"fb-messenger://share/?link=%url%&app_id=%app_id%",telegram:"https://telegram.me/share/url?url=%url%&text=%text%",skype:"https://web.skype.com/share?url=%url%&text=%title%",viber:"viber://forward?text=%text%",line:"https://line.me/R/msg/text/?%text%",snapchat:"https://www.snapchat.com/share?link=%url%","send-email":"mailto:?subject=%subject%&body=%text%"},selectorLink:{element:'link[rel="canonical"]',attribute:"href"},selectorTitle:null,selectorDescription:{element:'meta[name="description"]',attribute:"content"},label:{className:"sr-only"},ariaLabel:!0,copiedEffectDelay:1e3,locale:{label:"Share",share:"Share on %s",send:"Send to %s",subject:"An interesting thing",text:"Hi! Here something may interesting you: %s",email:"Send via email",copy:"Copy link",copied:"Copied link!",whatsapp:"WhatsApp",linkedin:"LinkedIn","web-share":"Share"},onIntent:()=>{},onInit:()=>{}}}binds(){this.intent=this.wrap(this.intent)}constructor(){super(...arguments),this.encoder=encodeURIComponent,this.init()}init(){if(this.built)return;const t=this.options;this.root=this.selector(t.root);let e=[];if(t.intents||this.ska!==t.scaffold)t.intents instanceof Array?e=t.intents:t.intents&&(e=Object.keys(t.scaffold));else{const t=Object.keys(this.ska);for(const s of[0,1,8,9,10,2,15,16,17])e.push(t[s])}this.intents=e,this.layout(),this.element&&this.$.place(this.element,function(t){this.element=t}.bind(this)),this.drawer(),t.onInit.call(this,this)}layout(){const t=this.options,e=t.locale,s=this.$=this.compo(!1,!1,{className:"object"==typeof t.className?Object.values(t.className).join(" "):t.className});if(t.ariaLabel){const n=t.ariaLabel;s.setAttr("aria-label","string"==typeof n?n:e.label)}if(t.label){const n=t.label,i=this.compo("span","label",{className:n.className,innerText:n.text??e.label});s.append(i)}"v"==t.layout&&s.classList.add(`${t.ns}-vertical`);const n=this.actions=this.compo("ul","actions");s.append(n),this.built=!0}drawer(){const t=a,e=this.options,s=e.locale;for(const n of this.intents){if(!n in e.scaffold)continue;const i=n in s?s[n].toString():n.replace(/\w/,t=>t.toUpperCase());let o;switch(e.scaffold[n]){case t.share:o=s.share.toString().replace("%s",i);break;case t.send:o=s.send.toString().replace("%s",i);break;case t.email:o=s.email.toString();break;case t.copy:o=s.copy.toString();break;case t.webapi:if(!navigator.share)continue;o=s["web-share"].toString()}this.action(n,o)}}action(t,e){const s=this.options,n=this.compo("li","action",{className:`${s.ns}-action-${t}`}),i=this.compo("button",["button","intent"],{className:`${s.ns}-intent-${t}`,title:e,onclick:this.intent});n.setAttr("data-share-intent",t),n.append(i);{const{type:e,prefix:n,src:o,viewBox:r}=s.icons,a=this.icon(e,t,n,o,t,r);i.append(a)}this.actions.append(n)}intent(t,e){if(this.event().prevent(t),!t.isTrusted)return;const s=a,n=this.options,i=n.locale;if(!this.compo().isCompo(e))return;const o=e.parent;if(!o||!o.hasAttr("data-share-intent"))return;const r=o.getAttr("data-share-intent");if(-1==this.intents.indexOf(r))return;let l,c,h,p;const{selectorLink:d,selectorTitle:u,selectorDescription:m}=n;l=n.link?new URL(n.link).toString():d&&d.element&&this.selector(d.element)?this.getAttr(this.selector(d.element),d.attribute):window.location.href,c=n.title?n.title:u&&u.element&&this.selector(u.element)?this.getAttr(this.selector(u.element),u.attribute):document.title,h=n.description?n.description:m&&m.element&&this.selector(m.element)?this.getAttr(this.selector(m.element),m.attribute):c,p="\n\n%title%\n%url%\n\n";const f={url:l,title:c,text:"\n\n%title%\n%url%\n\n",summary:h};if(n.onIntent.call(this,this,t,r,f),f.text=i.text.toString().replace("%s",f.text),r in n.scaffold)switch(n.scaffold[r]){case s.email:this.sendEmail(t,f);break;case s.copy:this.copyLink(t,f);break;case s.webapi:this.webShare(t,f);break;default:this.share(t,f,r)}this.event().blur(t)}text(t){return this.encoder(t.text.replace("%url%",t.url).replace("%title%",t.title).replace("%summary%",t.summary))}share(t,e,s){const{options:n,encoder:i}=this;if(!s in n.uriform)return;let o=n.uriform[s].replace("%url%",i(e.url)).replace("%title%",i(e.title)).replace("%summary%",i(e.summary));if(/%text%/.test(n.uriform[s])&&(o=o.replace("%text%",this.text(e))),"facebook"==s||"messenger"==s){const t=n[`${s}_app_id`]??"";o=o.replace("%app_id%",i(t))}window.open(o,null,"toolbar=0,status=0,width=640,height=480")}sendEmail(t,e){const s=this.options,n=s.locale,i=s.uriform["send-email"].replace("%subject%",this.encoder(n.subject)).replace("%text%",this.text(e));window.open(i,"_self")}copyLink(t,e){if(!this.element)return;const s=this.options,n=s.locale;try{navigator.clipboard.writeText(e.url)}catch(i){if(i instanceof TypeError){const t=document,s=t.createElement("textarea");s.style="position:absolute;width:0;height:0;opacity:0;z-index:-1;overflow:hidden",s.value=e.url,t.append(s),s.focus(),s.select(),t.execCommand("copy"),s.remove()}}if(s.effects){const{root:t}=this,e=this.compo(!1,"effects-copied-link--bg",{hidden:!0}),i=this.compo("span","copied-link-msg",{innerText:n.copied});t.classList.add("share-effects-copied-link"),e.bind(t),i.bind(t),e.show(),this.delay(()=>{i.unbind(t),e.unbind(t),t.classList.remove("share-effects-copied-link")},e,parseInt(s.copiedEffectDelay)||0)}}async webShare(t,e){try{await navigator.share({title:e.title,url:e.url})}catch(s){}}}const c={layout:"h",intents:["facebook","x","linkedin","threads","bluesky","reddit","mastodon","quora","whatsapp","messenger","telegram","skype","viber","line","snapchat","send-email","copy-link","web-share","print"],onIntent:(t,e,s,n)=>"print"===s&&setTimeout(window.print,200)},h=()=>{((t,e={})=>{const s=document.querySelector(t);if(!s)return;const n=e.layout||s.dataset.layout||c.layout,i={...c,...e,layout:n};new l(s,i),i.intents.includes("print")&&function(){const t=[{selector:".share-intent-print",title:"Print"}],e=new MutationObserver(()=>{t.forEach(({selector:t,title:e})=>{const s=document.querySelector(t);!s||s.title&&"undefined"!==s.title||s.setAttribute("title",e)}),t.every(({selector:t})=>document.querySelector(t)?.title)&&e.disconnect()});e.observe(document.body,{childList:!0,subtree:!0})}()})("[data-social-share]",{intents:["facebook","x","print","send-email","copy-link","web-share"]})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",h,{once:!0}):h();
