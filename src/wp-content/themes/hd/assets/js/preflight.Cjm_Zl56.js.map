{"version":3,"file":"preflight.Cjm_Zl56.js","sources":["../../resources/scripts/utils/dark.js","../../resources/scripts/utils/lighthouse.js","../../resources/scripts/utils/viewport-fix.js"],"sourcesContent":["// utils/dark.js (IIFE)\n\n( () => {\n    if (localStorage.theme === 'dark' || ( !( 'theme' in localStorage ) && window.matchMedia('(prefers-color-scheme: dark)').matches )) {\n        document.documentElement.classList.add('dark')\n    }\n\n    const sunIcon = '<path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 5V3m0 18v-2M7.05 7.05L5.636 5.636m12.728 12.728L16.95 16.95M5 12H3m18 0h-2M7.05 16.95l-1.414 1.414M18.364 5.636L16.95 7.05M16 12a4 4 0 1 1-8 0a4 4 0 0 1 8 0\"></path>';\n    const moonIcon = '<path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 21a9 9 0 0 1-.5-17.986V3c-.354.966-.5 1.911-.5 3a9 9 0 0 0 9 9c.239 0 .254.018.488 0A9 9 0 0 1 12 21\"/>';\n\n    const run = async () => {\n        const button = document.querySelector('.dark-mode');\n\n        if (button) {\n            const svg = button.querySelector('svg');\n\n            if (document.documentElement.classList.contains('dark')) {\n                svg.innerHTML = moonIcon;\n            } else {\n                svg.innerHTML = sunIcon;\n            }\n\n            button.addEventListener('click', () => {\n                document.documentElement.classList.toggle('dark');\n\n                if (document.documentElement.classList.contains('dark')) {\n                    localStorage.theme = 'dark';\n                    svg.innerHTML = moonIcon;\n                } else {\n                    localStorage.theme = 'light';\n                    svg.innerHTML = sunIcon;\n                }\n            });\n        }\n    };\n\n    document.readyState === 'loading'\n        ? document.addEventListener('DOMContentLoaded', run, { once: true })\n        : run();\n} )();\n","// utils/lighthouse.js (IIFE)\r\n\r\n( async () => {\r\n    const DETECTION_CLASS = 'is-lighthouse';\r\n\r\n    const indicators = {\r\n        ua: false,\r\n        backend: false\r\n    };\r\n\r\n    // UA\r\n    indicators.ua = (\r\n        navigator.userAgent.includes('Lighthouse') ||\r\n        navigator.userAgent.includes('HeadlessChrome') ||\r\n        navigator.webdriver === true\r\n    );\r\n\r\n    if (indicators.ua) {\r\n        document.documentElement.classList.add(DETECTION_CLASS);\r\n        return;\r\n    }\r\n\r\n    // ajax\r\n    if (typeof window.hdConfig !== 'undefined') {\r\n        try {\r\n            const res = await fetch(window.hdConfig.restApiUrl + 'global/lighthouse', {\r\n                method: 'GET',\r\n                credentials: 'same-origin',\r\n                headers: {\r\n                    'X-WP-Nonce': window.hdConfig.restToken\r\n                }\r\n            });\r\n            const json = await res.json();\r\n            indicators.backend = json.success && json.detected;\r\n        } catch (err) {\r\n        }\r\n\r\n        if (indicators.backend) {\r\n            document.documentElement.classList.add(DETECTION_CLASS);\r\n        }\r\n    }\r\n} )();\r\n","// utils/viewport-fix.js (IIFE)\r\n\r\n( () => {\r\n    function setViewportProperty () {\r\n        let vh = window.innerHeight * 0.01;\r\n        document.documentElement.style.setProperty('--vh', `${vh}px`);\r\n    }\r\n\r\n    window.addEventListener('resize', setViewportProperty);\r\n    setViewportProperty();\r\n} )();\r\n"],"names":[],"mappings":"CAEE,MAAM;AACJ,MAAI,aAAa,UAAU,UAAY,EAAG,WAAW,iBAAkB,OAAO,WAAW,8BAA8B,EAAE,SAAW;AAChI,aAAS,gBAAgB,UAAU,IAAI,MAAM;AAAA,EACjD;AAEA,QAAM,UAAU;AAChB,QAAM,WAAW;AAEjB,QAAM,MAAM,YAAY;AACpB,UAAM,SAAS,SAAS,cAAc,YAAY;AAElD,QAAI,QAAQ;AACR,YAAM,MAAM,OAAO,cAAc,KAAK;AAEtC,UAAI,SAAS,gBAAgB,UAAU,SAAS,MAAM,GAAG;AACrD,YAAI,YAAY;AAAA,MACpB,OAAO;AACH,YAAI,YAAY;AAAA,MACpB;AAEA,aAAO,iBAAiB,SAAS,MAAM;AACnC,iBAAS,gBAAgB,UAAU,OAAO,MAAM;AAEhD,YAAI,SAAS,gBAAgB,UAAU,SAAS,MAAM,GAAG;AACrD,uBAAa,QAAQ;AACrB,cAAI,YAAY;AAAA,QACpB,OAAO;AACH,uBAAa,QAAQ;AACrB,cAAI,YAAY;AAAA,QACpB;AAAA,MACJ,CAAC;AAAA,IACL;AAAA,EACJ;AAEA,WAAS,eAAe,YAClB,SAAS,iBAAiB,oBAAoB,KAAK,EAAE,MAAM,KAAI,CAAE,IACjE,IAAG;AACb,GAAC;AAAA,CCrCC,YAAY;AACV,QAAM,kBAAkB;AAExB,QAAM,aAAa;AAAA,IACf,IAAI;AAAA,IACJ,SAAS;AAAA,EACjB;AAGI,aAAW,KACP,UAAU,UAAU,SAAS,YAAY,KACzC,UAAU,UAAU,SAAS,gBAAgB,KAC7C,UAAU,cAAc;AAG5B,MAAI,WAAW,IAAI;AACf,aAAS,gBAAgB,UAAU,IAAI,eAAe;AACtD;AAAA,EACJ;AAGA,MAAI,OAAO,OAAO,aAAa,aAAa;AACxC,QAAI;AACA,YAAM,MAAM,MAAM,MAAM,OAAO,SAAS,aAAa,qBAAqB;AAAA,QACtE,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,SAAS;AAAA,UACL,cAAc,OAAO,SAAS;AAAA,QAClD;AAAA,MACA,CAAa;AACD,YAAM,OAAO,MAAM,IAAI;AACvB,iBAAW,UAAU,KAAK,WAAW,KAAK;AAAA,IAC9C,SAAS,KAAK;AAAA,IACd;AAEA,QAAI,WAAW,SAAS;AACpB,eAAS,gBAAgB,UAAU,IAAI,eAAe;AAAA,IAC1D;AAAA,EACJ;AACJ,GAAC;AAAA,CCvCC,MAAM;AACJ,WAAS,sBAAuB;AAC5B,QAAI,KAAK,OAAO,cAAc;AAC9B,aAAS,gBAAgB,MAAM,YAAY,QAAQ,GAAG,EAAE,IAAI;AAAA,EAChE;AAEA,SAAO,iBAAiB,UAAU,mBAAmB;AACrD;AACJ,GAAC;"}