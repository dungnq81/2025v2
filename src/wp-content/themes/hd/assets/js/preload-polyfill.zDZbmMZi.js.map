{"version":3,"file":"preload-polyfill.zDZbmMZi.js","sources":["../../resources/scripts/utils/lighthouse.js","../../resources/scripts/utils/viewport-fix.js"],"sourcesContent":["// lighthouse.js (IIFE)\r\n\r\n( async () => {\r\n    const DETECTION_CLASS = 'is-lighthouse';\r\n\r\n    const indicators = {\r\n        ua: false,\r\n        backend: false\r\n    };\r\n\r\n    // UA\r\n    indicators.ua = (\r\n        navigator.userAgent.includes('Lighthouse') ||\r\n        navigator.userAgent.includes('HeadlessChrome') ||\r\n        navigator.webdriver === true\r\n    );\r\n\r\n    if (indicators.ua) {\r\n        document.documentElement.classList.add(DETECTION_CLASS);\r\n        return;\r\n    }\r\n\r\n    // ajax\r\n    if (typeof window.hdConfig !== 'undefined') {\r\n        try {\r\n            const res = await fetch(window.hdConfig.restApiUrl + 'global/lighthouse', {\r\n                method: 'GET',\r\n                credentials: 'same-origin',\r\n                headers: {\r\n                    'X-WP-Nonce': window.hdConfig.restToken\r\n                }\r\n            });\r\n            const json = await res.json();\r\n            indicators.backend = json.success && json.detected;\r\n        } catch (err) {\r\n        }\r\n\r\n        if (indicators.backend) {\r\n            document.documentElement.classList.add(DETECTION_CLASS);\r\n        }\r\n    }\r\n} )();\r\n","// viewport-fix.js (IIFE)\r\n\r\n( () => {\r\n    function setViewportProperty () {\r\n        let vh = window.innerHeight * 0.01;\r\n        document.documentElement.style.setProperty('--vh', `${vh}px`);\r\n    }\r\n\r\n    window.addEventListener('resize', setViewportProperty);\r\n    setViewportProperty();\r\n} )();\r\n"],"names":[],"mappings":"CAEE,YAAY;AACV,QAAM,kBAAkB;AAExB,QAAM,aAAa;AAAA,IACf,IAAI;AAAA,IACJ,SAAS;AAAA,EACjB;AAGI,aAAW,KACP,UAAU,UAAU,SAAS,YAAY,KACzC,UAAU,UAAU,SAAS,gBAAgB,KAC7C,UAAU,cAAc;AAG5B,MAAI,WAAW,IAAI;AACf,aAAS,gBAAgB,UAAU,IAAI,eAAe;AACtD;AAAA,EACJ;AAGA,MAAI,OAAO,OAAO,aAAa,aAAa;AACxC,QAAI;AACA,YAAM,MAAM,MAAM,MAAM,OAAO,SAAS,aAAa,qBAAqB;AAAA,QACtE,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,SAAS;AAAA,UACL,cAAc,OAAO,SAAS;AAAA,QAClD;AAAA,MACA,CAAa;AACD,YAAM,OAAO,MAAM,IAAI;AACvB,iBAAW,UAAU,KAAK,WAAW,KAAK;AAAA,IAC9C,SAAS,KAAK;AAAA,IACd;AAEA,QAAI,WAAW,SAAS;AACpB,eAAS,gBAAgB,UAAU,IAAI,eAAe;AAAA,IAC1D;AAAA,EACJ;AACJ,GAAC;AAAA,CCvCC,MAAM;AACJ,WAAS,sBAAuB;AAC5B,QAAI,KAAK,OAAO,cAAc;AAC9B,aAAS,gBAAgB,MAAM,YAAY,QAAQ,GAAG,EAAE,IAAI;AAAA,EAChE;AAEA,SAAO,iBAAiB,UAAU,mBAAmB;AACrD;AACJ,GAAC;"}