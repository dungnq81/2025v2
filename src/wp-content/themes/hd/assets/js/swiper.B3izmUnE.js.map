{"version":3,"file":"swiper.B3izmUnE.js","sources":["../../resources/scripts/components/swiper.js"],"sourcesContent":["// components/swiper.js\n\nimport {nanoid} from 'nanoid';\nimport Swiper from 'swiper';\nimport {\n    Autoplay,\n    Navigation,\n    Pagination,\n    Thumbs,\n    FreeMode,\n    Grid,\n} from 'swiper/modules';\n\nconst defaultModules = [\n    Autoplay,\n    Navigation,\n    Pagination,\n    Thumbs,\n    FreeMode,\n    Grid,\n];\n\n// Default Swiper options\nconst defaultOptions = {\n    allowTouchMove: true,\n    threshold: 5,\n    wrapperClass: 'swiper-wrapper',\n    slideClass: 'swiper-slide',\n    slideActiveClass: 'swiper-slide-active',\n};\n\n// Generate unique class names\nconst generateClasses = () => {\n    const id = nanoid(8);\n    return {\n        id,\n        swiper: `swiper-${id}`,\n        next: `swiper-next-${id}`,\n        prev: `swiper-prev-${id}`,\n        pagination: `swiper-pagination-${id}`,\n        scrollbar: `swiper-scrollbar-${id}`,\n        progress: `swiper-autoplay-progress-${id}`,\n    };\n};\n\n// Parse options safely\nconst parseOptions = (el) => {\n    const json = el?.querySelector('.swiper-wrapper')?.dataset?.swiperOptions;\n    if (!json) return {};\n    try {\n        return JSON.parse(json);\n    } catch (e) {\n        console.warn('Invalid Swiper JSON on element', el, e);\n        return {};\n    }\n};\n\n// controls\nconst getSwiperControls = (el) => {\n    const wrapper = el.closest('.closest-swiper') || el.parentElement;\n    const existing = wrapper?.querySelector('.swiper-controls');\n    if (existing) return existing;\n\n    const div = document.createElement('div');\n    div.className = 'swiper-controls';\n    el.after(div);\n    return div;\n};\n\n// Utility to get breakpoints from options\nconst getBreakpoints = (options = {}) => {\n    if (options.breakpoints) return options.breakpoints;\n\n    const bp = {};\n    const map = {xs: 0, sm: 640, md: 768, lg: 1024, xl: 1280, xxl: 1536};\n    Object.entries(map).forEach(([key, val]) => {\n        if (options[key]) bp[val] = options[key];\n    });\n    return bp;\n};\n\n// Initialize Swiper instances\nconst initSwiper = (el) => {\n    if (!el) return;\n    if (el.__swiper_inited) return;\n    el.__swiper_inited = true;\n\n    const classes = generateClasses();\n    el.classList.add(classes.swiper);\n\n    const swiperOptions = {\n        modules: defaultModules,\n        ...defaultOptions,\n    };\n\n    const options = parseOptions(el);\n    if (!options || Object.keys(options).length === 0) {\n        console.warn('Skipped swiper:', el, '(no valid options)');\n        return;\n    }\n\n    // thumbs (custom)\n    let thumbsSwiper = null;\n    if (options.thumbs) {\n        const thumbsSelector = options.thumbs;\n        const thumbsEl = document.querySelector(thumbsSelector);\n        if (thumbsEl && !thumbsEl.__swiper_inited) {\n            thumbsSwiper = initSwiper(thumbsEl);\n        } else if (thumbsEl && thumbsEl.swiper) {\n            thumbsSwiper = thumbsEl.swiper;\n        }\n    }\n\n    // Base settings\n    Object.assign(swiperOptions, {\n        spaceBetween: parseInt(options.spaceBetween) || 0,\n        slidesPerView: options.slidesPerView === 'auto' ? 'auto' : parseInt(options.slidesPerView) || 1,\n        speed: parseInt(options.speed) || 600,\n        direction: options.direction || 'horizontal',\n        grabCursor: !!options.grabCursor,\n        loop: !!options.loop,\n        parallax: !!options.parallax,\n        autoHeight: !!options.autoHeight,\n        rewind: !!options.rewind,\n        observer: !!options.observer,\n        observeParents: !!options.observeParents,\n        watchSlidesProgress: !!options.watchSlidesProgress,\n        breakpoints: getBreakpoints(options),\n    });\n\n    // thumbsSwiper\n    if (thumbsSwiper) {\n        swiperOptions.thumbs = {\n            swiper: thumbsSwiper\n        };\n    }\n\n    // freeMode (custom)\n    if (options.freeMode) {\n        swiperOptions.freeMode = {\n            enabled: true,\n            sticky: true,\n        };\n    }\n\n    // cssMode (custom)\n    if (options.cssMode) {\n        swiperOptions.cssMode = true;\n        swiperOptions.observer = true;\n        swiperOptions.observeParents = true;\n    }\n\n    // effect (custom)\n    if (options.effect) {\n        swiperOptions.effect = options.effect || 'slide';\n        if (swiperOptions.effect === 'fade') {\n            swiperOptions.fadeEffect = {crossFade: !0};\n        }\n    }\n\n    // centered (custom)\n    if (options.centered) {\n        swiperOptions.centeredSlides = true;\n        swiperOptions.centeredSlidesBounds = true;\n    }\n\n    // Autoplay (custom)\n    if (options.autoplay) {\n        swiperOptions.autoplay = {\n            delay: parseInt(options.delay) || 6000,\n            pauseOnMouseEnter: true,\n            disableOnInteraction: options.disableOnInteraction !== undefined ? !!options.disableOnInteraction : true,\n            reverseDirection: !!options.reverseDirection,\n        };\n    }\n\n    // Marquee (custom)\n    if (options.marquee) {\n        swiperOptions.loop = true;\n        swiperOptions.speed = parseInt(options.speed) || 6000;\n        swiperOptions.autoplay = {\n            delay: 0,\n            pauseOnMouseEnter: true,\n            disableOnInteraction: options.disableOnInteraction !== undefined ? !!options.disableOnInteraction : true,\n            reverseDirection: !!options.reverseDirection,\n        };\n    }\n\n    // Rtl (custom)\n    if (options.rtl) {\n        el.setAttribute('dir', 'rtl');\n    }\n\n    // Rows (custom)\n    if (options.rows) {\n        swiperOptions.grid = {\n            rows: parseInt(options.rows) || 1,\n            fill: 'row',\n        };\n    }\n\n    const controls = getSwiperControls(el);\n\n    // Navigation (custom)\n    if (options.navigation) {\n        let btnPrev = controls?.querySelector('.swiper-button-prev');\n        let btnNext = controls?.querySelector('.swiper-button-next');\n\n        if (btnPrev && btnNext) {\n            btnPrev.classList.add(classes.prev);\n            btnNext.classList.add(classes.next);\n        } else {\n            const btnPrev = document.createElement('div');\n            const btnNext = document.createElement('div');\n            btnPrev.className = `swiper-button swiper-button-prev ${classes.prev}`;\n            btnNext.className = `swiper-button swiper-button-next ${classes.next}`;\n            btnPrev.innerHTML = `<svg class=\"!h-6 !w-6\"><use href=\"#icon-arrow-left-outline\"></use></svg>`;\n            btnNext.innerHTML = `<svg class=\"!h-6 !w-6\"><use href=\"#icon-arrow-right-outline\"></use></svg>`;\n            controls.append(btnPrev, btnNext);\n        }\n\n        swiperOptions.navigation = {\n            nextEl: '.' + classes.next,\n            prevEl: '.' + classes.prev,\n        };\n    }\n\n    // Pagination (custom)\n    if (options.pagination) {\n        let pagination = controls?.querySelector('.swiper-pagination');\n        if (pagination) {\n            pagination.classList.add(classes.pagination);\n        } else {\n            const pagination = document.createElement('div');\n            pagination.className = `swiper-pagination ${classes.pagination}`;\n            controls.append(pagination);\n        }\n\n        const paginationType = options.pagination;\n        swiperOptions.pagination = {\n            el: '.' + classes.pagination,\n            clickable: true,\n            ...(paginationType === 'bullets' && {dynamicBullets: true, type: 'bullets'}),\n            ...(paginationType === 'fraction' && {type: 'fraction'}),\n            ...(paginationType === 'progressbar' && {type: 'progressbar'}),\n            ...(paginationType === 'custom' && {renderBullet: (index, className) => `<span class=\"${className}\">${index + 1}</span>`}),\n        };\n    }\n\n    // Scrollbar (custom)\n    if (options.scrollbar) {\n        let scrollbar = controls?.querySelector('.swiper-scrollbar');\n        if (scrollbar) {\n            scrollbar.classList.add(classes.scrollbar);\n        } else {\n            const scrollbar = document.createElement('div');\n            scrollbar.className = `swiper-scrollbar ${classes.scrollbar}`;\n            controls.append(scrollbar);\n        }\n\n        swiperOptions.scrollbar = {\n            el: '.' + classes.scrollbar,\n            hide: true,\n            draggable: true,\n        };\n    }\n\n    // Autoplay Progress (custom)\n    if (options.autoplayProgress) {\n        const progress = document.createElement('div');\n        progress.className = `swiper-autoplay-progress ${classes.progress}`;\n        progress.innerHTML = `<svg viewBox=\"0 0 48 48\"><circle cx=\"24\" cy=\"24\" r=\"20\"></circle></svg><span></span>`;\n        controls.append(progress);\n\n        swiperOptions.on = {\n            autoplayTimeLeft(s, time, progressValue) {\n                const svg = controls?.querySelector('.swiper-autoplay-progress > svg');\n                const span = controls?.querySelector('.swiper-autoplay-progress > span');\n                svg.style.setProperty('--progress', 1 - progressValue);\n                span.textContent = `${Math.ceil(time / 1000)}s`;\n            },\n        };\n    }\n\n    const swiperInstance = new Swiper(`.${classes.swiper}`, swiperOptions);\n    el.swiper = swiperInstance;\n\n    return swiperInstance;\n};\n\nconst initAllSwipers = () => {\n    document.querySelectorAll('.w-swiper').forEach(initSwiper);\n};\n\n(document.readyState === 'loading')\n    ? document.addEventListener('DOMContentLoaded', initAllSwipers, {once: true})\n    : initAllSwipers();\n\nexport {initAllSwipers, initSwiper};\n"],"names":["Thumbs","FreeMode","btnPrev","btnNext","pagination","scrollbar"],"mappings":"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"}