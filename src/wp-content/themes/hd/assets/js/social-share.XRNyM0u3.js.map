{"version":3,"file":"social-share.XRNyM0u3.js","sources":["../../resources/scripts/components/social-share.js"],"sourcesContent":["// components/social-share.js\r\n\r\nimport { SocialShare } from 'ensemble-social-share';\r\n\r\nconst DEFAULT_OPTIONS = {\r\n    layout: 'h',\r\n    intents: [\r\n        'facebook',\r\n        'x',\r\n        'linkedin',\r\n        'threads',\r\n        'bluesky',\r\n        'reddit',\r\n        'mastodon',\r\n        'quora',\r\n        'whatsapp',\r\n        'messenger',\r\n        'telegram',\r\n        'skype',\r\n        'viber',\r\n        'line',\r\n        'snapchat',\r\n        'send-email',\r\n        'copy-link',\r\n        'web-share',\r\n        'print',\r\n    ],\r\n    onIntent: (self, event, intent, data) => {\r\n        return intent === 'print' && setTimeout(window.print, 2e2);\r\n    },\r\n};\r\n\r\nfunction initSocialShare (element, customOptions = {}) {\r\n    const ele = document.querySelector(element);\r\n    if (!ele) return;\r\n\r\n    const layout = customOptions.layout || ele.dataset.layout || DEFAULT_OPTIONS.layout;\r\n    const options = {\r\n        ...DEFAULT_OPTIONS,\r\n        ...customOptions,\r\n        layout,\r\n    };\r\n\r\n    new SocialShare(ele, options);\r\n\r\n    if (options.intents.includes('print')) {\r\n        observePrintButton();\r\n    }\r\n}\r\n\r\nfunction observePrintButton () {\r\n    const buttons = [\r\n        { selector: '.share-intent-print', title: 'Print' }\r\n    ];\r\n\r\n    const observer = new MutationObserver(() => {\r\n        buttons.forEach(({ selector, title }) => {\r\n            const button = document.querySelector(selector);\r\n            if (button && ( !button.title || button.title === 'undefined' )) {\r\n                button.setAttribute('title', title);\r\n            }\r\n        });\r\n\r\n        if (buttons.every(({ selector }) => document.querySelector(selector)?.title)) {\r\n            observer.disconnect();\r\n        }\r\n    });\r\n\r\n    observer.observe(document.body, { childList: true, subtree: true });\r\n}\r\n\r\nexport { initSocialShare };\r\n"],"names":[],"mappings":";AAIA,MAAM,kBAAkB;AAAA,EACpB,QAAQ;AAAA,EACR,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACR;AAAA,EACI,UAAU,CAAC,MAAM,OAAO,QAAQ,SAAS;AACrC,WAAO,WAAW,WAAW,WAAW,OAAO,OAAO,GAAG;AAAA,EAC7D;AACJ;AAEA,SAAS,gBAAiB,SAAS,gBAAgB,IAAI;AACnD,QAAM,MAAM,SAAS,cAAc,OAAO;AAC1C,MAAI,CAAC,IAAK;AAEV,QAAM,SAAS,cAAc,UAAU,IAAI,QAAQ,UAAU,gBAAgB;AAC7E,QAAM,UAAU;AAAA,IACZ,GAAG;AAAA,IACH,GAAG;AAAA,IACH;AAAA,EACR;AAEI,MAAI,YAAY,KAAK,OAAO;AAE5B,MAAI,QAAQ,QAAQ,SAAS,OAAO,GAAG;AACnC;EACJ;AACJ;AAEA,SAAS,qBAAsB;AAC3B,QAAM,UAAU;AAAA,IACZ,EAAE,UAAU,uBAAuB,OAAO,QAAO;AAAA,EACzD;AAEI,QAAM,WAAW,IAAI,iBAAiB,MAAM;AACxC,YAAQ,QAAQ,CAAC,EAAE,UAAU,MAAK,MAAO;AACrC,YAAM,SAAS,SAAS,cAAc,QAAQ;AAC9C,UAAI,WAAY,CAAC,OAAO,SAAS,OAAO,UAAU,cAAe;AAC7D,eAAO,aAAa,SAAS,KAAK;AAAA,MACtC;AAAA,IACJ,CAAC;AAED,QAAI,QAAQ,MAAM,CAAC,EAAE,SAAQ,MAAO,SAAS,cAAc,QAAQ,GAAG,KAAK,GAAG;AAC1E,eAAS,WAAU;AAAA,IACvB;AAAA,EACJ,CAAC;AAED,WAAS,QAAQ,SAAS,MAAM,EAAE,WAAW,MAAM,SAAS,KAAI,CAAE;AACtE;"}