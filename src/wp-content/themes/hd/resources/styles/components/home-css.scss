@use '../variables' as vars;
@use '../functions' as func;
@use '../mixins' as mixin;

body.page-template-template-page-home {
    overflow: hidden;
    overscroll-behavior: none;

    .site-outer {
        scroll-snap-destination: 0 0;
        display: block;
        max-width: 100vw;
        min-block-size: 100dvh;
        min-block-size: -webkit-fill-available;
        overflow-x: hidden;
        overflow-y: scroll;
        scroll-behavior: smooth;
        scroll-snap-type: y mandatory;
        transition: transform .5s ease-in-out .5s,opacity .5s ease-in-out .5s;
        @include mixin.responsive-height();

/*        &::-webkit-scrollbar {
            width: 0;
            height: 0;
        }*/

        .site-header {
            #masthead {
                top: 0;
                position: absolute;
                width: 100%;
                box-shadow: none;
                background: none;
                height: 90px;

                @include mixin.mq-max(lg) {
                    height: 70px;
                    padding-top: 10px;
                    padding-bottom: 10px;
                }

                &::before {
                    content: '';
                    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.6) 10%, rgba(0, 0, 0, 0.6) 15%, rgba(0, 0, 0, 0) 100%);
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    height: 90px;
                    z-index: -1;
                    pointer-events: none;
                }

                .site-logo {
                    .logo {
                        img {
                            filter: brightness(0) invert(1);
                            transition: 0.1s;
                        }

                        &:hover {
                            img {
                                filter: none;
                            }
                        }

                    }
                }

                .header-content {
                    ul.main-nav {
                        & > li {
                            &::before {
                                background-color: #fff;
                            }

                            & > a {
                                color: #fff;

                                &::after {
                                    color: currentColor;
                                }
                            }
                        }
                    }

                    .hotline {
                        color: #fff;

                        &:hover {
                            & > span {
                                box-shadow: #fff 0 1px 0 0;
                            }
                        }
                    }
                }
            }
        }

        .site-content {
            .section.section-home {
                .content-snapping {
                    display: flex;
                    flex-flow: column nowrap;

                    .snapping-item {
                        & > .item {
                            display: block;
                            scroll-snap-align: start;
                            scroll-snap-stop: always;
                            width: 100%;
                            z-index: 1;
                            position: relative;
                            @include mixin.responsive-height();

                            .snapping-img {
                                display: block;
                                position: relative;
                                width: 100%;
                                @include mixin.responsive-height();

                                img {
                                    display: block;
                                    inset-inline-start: 0;
                                    margin: 0;
                                    object-fit: cover;
                                    object-position: 50% 50%;
                                    position: absolute;
                                    top: 50%;
                                    left: 50%;
                                    transform: translate(-50%,-50%);
                                    width: 100%;
                                    @include mixin.responsive-height();
                                }
                            }

                            .overlay-content {
                                display: none;

                                .content {
                                    opacity: 0;
                                    transition: .2s;
                                }
                            }
                        }

                        &.focused {
                            & > .item {
                                .overlay-content {
                                    .content {
                                        opacity: 1;
                                        transition: opacity 2s;
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }

        .site-footer {
            display: flex;
            flex-flow: column nowrap;
            justify-content: flex-end;
            margin-top: 0;
            scroll-snap-align: start;
            scroll-snap-stop: always;
            width: 100%;
            z-index: 2;
            background-color: #231F20;
            position: relative;
            @include mixin.responsive-height();

            &::before {
                content: '';
                pointer-events: none;
                background-repeat: no-repeat;
                background-position: top center;
                background-image: url('../../img/footer_bg.png');
                background-size: 60%;
                filter: grayscale(1);
                opacity: 0.09;
                @include mixin.absolute-full;

                @include mixin.mq-max(md) {
                    background-size: 100%;
                }
            }
        }
    }
}
