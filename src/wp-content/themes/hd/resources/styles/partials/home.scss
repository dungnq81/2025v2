/* partials/home.scss */

@use '../utils/variables' as vars;
@use '../utils/functions' as func;
@use '../utils/mixins' as mixin;

//
// Home layout.

.section.section-recent-posts {
    .swiper {
        .swiper-slide {
            height: auto;
            @include mixin.flex-self(1.2, 1, 12);

            @include mixin.mq-min(sm) {
                @include mixin.flex-self(2, 1, 24);
            }

            @include mixin.mq-min(lg) {
                @include mixin.flex-self(3, 1, 24);
            }
        }
    }
}

.section.section-feedback {
    .swiper {
        .swiper-slide {
            height: auto;
            @include mixin.flex-self(1, 1, 12);

            @include mixin.mq-min(md) {
                @include mixin.flex-self(2, 1, 24);
            }
        }
    }
}

.section.section-press {
    .swiper {
        .swiper-slide {
            height: auto;
            @include mixin.flex-self(2, 1, 12);

            @include mixin.mq-min(md) {
                @include mixin.flex-self(3, 1, 24);
            }
        }
    }

    .swiper-controls {
        .swiper-pagination {
            .swiper-pagination-bullet {
                background-color: var(--text-color);
            }
        }

        .swiper-button {
            background-color: #fefefe;
            border: 1px solid #00000014;
            box-shadow: inset 0 0 12px #0000000d;
            border-radius: var(--radius-md);
            color: var(--text-color);

            @include mixin.flex-center;
            @include mixin.box(44);

            svg {
                @include mixin.box(24);
            }

            &:hover {
                border-color: var(--text-color-1);
                color: var(--text-color-1);
            }

            &.swiper-button-prev {
                left: 0;
            }

            &.swiper-button-next {
                right: 0;
            }
        }
    }
}

.section.section-services {
    .tabs {
        .tabs-title {
            & > a {
                &:hover {
                    border-color: var(--text-color-1);
                    box-shadow: 0 4px 29px -9px var(--text-color-1);
                }

                &:focus, &[aria-selected=true] {
                    color: var(--color-white);
                    border-color: var(--text-color-1);
                    box-shadow: 0 4px 29px -9px var(--text-color-1);
                }
            }

            &.is-active {
                & > a {
                    background-color: var(--text-color-1);
                    color: var(--color-white);
                    border-color: var(--text-color-1);
                    box-shadow: 0 4px 29px -9px var(--text-color-1);
                }
            }
        }
    }
}

.section.section-services-extra {
    .tabs {
        .tabs-title {
            & > a {
                &:hover {
                    border-color: var(--text-color-1);
                }
            }

            &.is-active {
                & > a {
                    color: var(--color-white);
                    border-color: var(--text-color-1);
                    box-shadow: 0 4px 29px -9px var(--text-color-1);
                    background-color: var(--text-color-1);
                }
            }
        }
    }
}

.section.section-projects {
    .swiper {
        .swiper-slide {
            height: auto;
            @include mixin.flex-self(1, 1, 12);

            @include mixin.mq-min(sm) {
                @include mixin.flex-self(2, 1, 24);
            }

            .p-thumb {
                & > span {
                    scale: 1.0001;
                    will-change: scale;
                    transition: scale .8s cubic-bezier(.25, .46, .45, .94), opacity .3s;
                }

                .p-link {
                    transition: height 0.2s;
                    background-color: rgba(0, 0, 0, 0.3);
                    height: 0;
                    left: 0;
                    top: 0;
                    right: 0;
                    position: absolute;

                    & > a {
                        opacity: 0;
                        transition: opacity 0.3s;
                        border-radius: var(--radius-md);
                        border: 1px solid rgba(254, 82, 66, 0.7);
                        background-color: rgba(254, 82, 66, 0.7);
                        backdrop-filter: blur(2px);
                        padding-block: 16px;
                        padding-inline: 16px;
                        font-weight: 700;
                        color: var(--color-white);

                        &:hover {
                            box-shadow: 0 4px 29px -9px rgba(12, 142, 57, 0.5);
                            border: 1px solid rgba(12, 142, 57, 0.7);
                            background-color: rgba(12, 142, 57, 0.7);
                        }

                        &:not(:last-child) {
                            border: 1px solid rgba(12, 142, 57, 0.7);
                            background-color: rgba(12, 142, 57, 0.7);

                            &:hover {
                                box-shadow: 0 4px 29px -9px rgba(254, 82, 66, 0.5);
                                border: 1px solid rgba(254, 82, 66, 0.7);
                                background-color: rgba(254, 82, 66, 0.7);
                            }
                        }
                    }
                }

                &:hover {
                    & > span {
                        scale: 1.06;
                        opacity: 1;
                    }

                    .p-link {
                        height: 100%;

                        & > a {
                            opacity: 1;
                            transition-delay: 0.3s;
                        }
                    }
                }
            }
        }
    }
}

//
/** dark mode */
//

:where(.dark, .dark *) {
    .section.section-projects {
        .swiper {
            .swiper-slide {
                .p-thumb {
                    .p-link {
                        background-color: rgb(22 22 22 / 70%);
                    }
                }
            }
        }
    }

    .section.section-press {
        .swiper-controls {
            .swiper-button {
                background-color: #1d1d1d;
                border: 1px solid #ffffff0f;
                box-shadow: inset 0 0 12px #ffffff0a;
            }
        }
    }
}
